build:
    environment:
        php: '7.3'

    dependencies:
        override:
            - npm rebuild
            - npm install
            - yes | pecl install bz2
            - yes | pecl install phar
            - yes | pecl install gmp
            - yes | pecl install pgsql
            - yes | pecl install readline
            - composer install --ignore-platform-reqs --no-interaction --no-scripts

    tests:
        override:
            - true # disable test execution on scrutinizer

    nodes:
        analysis:
            tests:
                override:
                    - php-scrutinizer-run
