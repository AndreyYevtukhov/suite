{% extends model('component') %}

{% define config = {
    name: 'color-selector',
    tag: 'color-selector',
} %}

{% define data = {
    items: required,
} %}

{% block component %}
    {% if data.items is not empty %}
        {{ parent() }}
    {% endif %}
{% endblock %}

{% block body %}
    {% block list %}
        <div class="{{ config.name }}__list">
            {% for item in data.items %}
                {% block item %}
                    {% set activeClass = loop.first ? config.name ~ '__item--active' %}
                    {% set backgroundColor = item.colorCode ? 'background-color: ' ~ item.colorCode ~ '; ' %}

                    <button
                            class="{{ config.name }}__item {{ activeClass }} {{ config.jsName }}__item"
                            style="{{ backgroundColor }}"
                            {% block listAttributes %}{% endblock %}>
                    </button>
                {% endblock %}
            {% endfor %}
        </div>
    {% endblock %}
{% endblock %}
