{% extends template('widget') %}

{% define data = {
    items: _widget.productGroupItems | default([]),
} %}

{% block body %}
    {% for item in data.items %}
        {% widget 'ProductColorGroupWidget' args [item] with {
            embed: {
                item: item,
                firstItem: loop.first,
            },
        } only %}
            {% block body %}
                {% embed molecule('product-item-color-selector', 'ProductColorGroupWidget') ignore missing with {
                    modifiers: ['center'],
                    data: {
                        item: embed.item,
                        firstItem: embed.firstItem,
                    },
                } only %}
                    {% block body %}
                        <hr>{{ parent() }}<hr>
                    {% endblock %}
                {% endembed %}
            {% endblock %}
        {% endwidget %}
    {% endfor %}
{% endblock %}
